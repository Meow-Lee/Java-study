---
description: 그림과 실습으로 배우는 도커 & 쿠버네티스
---

# 도커 컴포즈

## <도커 컴포즈>

## 도커 컴포즈란?

* 명령어에 익숙해져도 여러 개의 컨테이너로 구성된 시스템을 실행하려면 인자나 옵션도 많고 볼륨이나 네트워크도 설정해야하기 때문에 불편함
* 따라서, 시스템 구축과 관련된 명령어를 하나의 텍스트 파일(Compose file)에 기재해 명령어 한번에 시스템 전체를 실행하고 종료와 폐기까지 한번에 하도록 도와주는 도구임
* 즉, 도커 컴포즈를 사용하면 여러 개의 명령어를 하나의 정의 파일로 합쳐 실행할 수 있음

### 도커 컴포즈의 구조

* 도커 컴포즈는 시스템 구축에 필요한 설정을 .yaml 포맷으로 기재한 정의 파일을 이용해 전체 시스템을 일괄 실행 또는 종료, 삭제 할 수 있는 도구
* 정의 파일에는 컨테이너나 볼륨을 어떠한 설정으로 만들지에 대한 항목이 기재되어 있으나, 도커 명령어는 아님(비슷함)
* up 커맨드는 docekr run 커맨드와 비슷한데, 정의 파일에 기재된 내용대로 이미지를 내려받고 컨테이너를 생성 및 실행
* down 커맨드는 컨테이너와 네트워크를 정지 및 삭제, 볼륨과 이미지는 삭제하지 않음
* 종료만 하고 싶다면 stop 커맨드 사용

### 도커 컴포즈와 Dockerfile 스크립트의 차이점

* 도커 컴포즈는 docker run 명령어를 여러 개 모아놓은 것과 같음
* 컨테이너와 주변 환경을 생성하고, 네트워크와 볼륨까지 설정할 수 있음
* Dockerfile 스크립트는 이미지를 만들기 위한 것으로 네트워크나 볼륨은 만들 수 없음
* 즉, 간단히 말해서 만드는 대상이 다르다고 할 수 있음
* 착각하면 안되는 점 : 쿠버네티스는 도커 컨테이너를 관리하는 도구인 만큼 여러 개의 컨테이너를 다루는 것과 관계가 깊은데, 도커 컴포즈와 혼동하면 안됨
* 쿠버네티스는 컨테이너를 관리하고, 도커 컴포즈는 컨테이너 생성 및 삭제만 하는 것으로 관리 기능은 없음

## <도커 컴포즈 설치 및 사용법>

* 도커 엔진과는 별개의 소프트웨어이지만, 윈도우나 mac에서는 이미 설치되어 있음(도커 데스크톱과 함께 설치됨)

## 도커 컴포즈 사용법

